{"ast":null,"code":"import DatabaseService from \"../../services/database\";\nimport AuthService from \"../../services/auth\";\nimport User from \"../../models/user\";\nexport default (async (req, res) => {\n  if (req.method !== \"GET\") {\n    return res.status(405).end();\n  }\n\n  const {\n    authorization\n  } = req.headers;\n  let userId;\n\n  try {\n    const {\n      id\n    } = await AuthService.verify(authorization);\n    userId = id;\n  } catch (error) {\n    return res.status(401).end();\n  }\n\n  DatabaseService.connect();\n  const user = await User.findOne({\n    _id: userId\n  }, {\n    name: -1\n  });\n  res.json(user.toObject());\n});","map":null,"metadata":{},"sourceType":"module"}