{"ast":null,"code":"var _jsxFileName = \"/Applications/CrowdMOT/crowdmot-nextjs/components/videoAnnotationDemo/VideoAnnotationDemo.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { VideoTool } from \"react-annotation-tool\";\nimport Instructions from \"../videoInstruction/VideoInstruction\";\nimport { Container, Row, Col, Card, CardBody, CardTitle, CardText } from 'reactstrap';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { Link, BrowserRouter, Switch } from 'react-router-dom';\nimport { CSVLink, CSVDownload } from \"react-csv\"; // import { array } from 'prop-types';\n// import ReactHTMLTableToExcel from 'react-html-table-to-excel';\n// import { MdBubbleChart } from 'react-icons/md';\n\nclass Demo extends Component {\n  constructor(props) {\n    super(props); // const fs = require('fs');\n    // const annotations = [];//[ { \"id\": \"jt192wyd\", \"name\": \"jt192wyd\", \"label\": \"1-2\", \"color\": \"rgba(255,0,0,1)\", \"trajectories\": [ { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 295.00402335586875, \"y\": 193.3689649661968, \"width\": 40.75402335586878, \"height\": 41.63103503380317, \"time\": 0.0308226495726496, \"status\": \"Show\" }, { \"id\": \"jt1930nb\", \"name\": \"jt1930nb\", \"x\": 304.00402335586875, \"y\": 202.3689649661968, \"width\": 58.75402335586875, \"height\": 60.63103503380319, \"time\": 0.03178472222222222, \"status\": \"Show\" }, { \"id\": \"jt193fim\", \"name\": \"jt193fim\", \"x\": 309.00402335586875, \"y\": 213.3689649661968, \"width\": 58.75402335586875, \"height\": 60.63103503380319, \"time\": 0.06388611111111112, \"status\": \"Show\" }, { \"id\": \"jt193ijo\", \"name\": \"jt193ijo\", \"x\": 320.00402335586875, \"y\": 220.3689649661968, \"width\": 58.75402335586875, \"height\": 74.63103503380319, \"time\": 0.08677242063492063, \"status\": \"Show\" }, { \"id\": \"jt19484m\", \"name\": \"jt19484m\", \"x\": 320.48992156587633, \"y\": 218.42537212616642, \"width\": 60.697616195899116, \"height\": 78.17334040378043, \"time\": 0.0966718253968254, \"status\": \"Show\" }, { \"id\": \"jt193o4y\", \"name\": \"jt193o4y\", \"x\": 321.00402335586875, \"y\": 216.3689649661968, \"width\": 62.75402335586875, \"height\": 71.63103503380319, \"time\": 0.10714583333333334, \"status\": \"Show\" }, { \"id\": \"jt194dom\", \"name\": \"jt194dom\", \"x\": 321.00402335586875, \"y\": 218.8083044640243, \"width\": 62.75402335586875, \"height\": 69.1916955359757, \"time\": 0.1195857142857143, \"status\": \"Show\" }, { \"id\": \"jt193taw\", \"name\": \"jt193taw\", \"x\": 321.00402335586875, \"y\": 228.3689649661968, \"width\": 62.75402335586875, \"height\": 59.63103503380319, \"time\": 0.13459007936507936, \"status\": \"Show\" }, { \"id\": \"jt193zb4\", \"name\": \"jt193zb4\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 81.75402335586875, \"height\": 59.63103503380319, \"time\": 0.1693952380952381, \"status\": \"Show\" }, { \"id\": \"jt195ltz\", \"name\": \"jt195ltz\", \"x\": 328.2874098641244, \"y\": 230.6523514744525, \"width\": 70.85164231813906, \"height\": 56.631035033803215, \"time\": 0.1985523622047244, \"status\": \"Show\" }, { \"id\": \"jt194trg\", \"name\": \"jt194trg\", \"x\": 322.00402335586875, \"y\": 232.3689649661968, \"width\": 76.66967862975952, \"height\": 59.63103503380319, \"time\": 0.22047222222222224, \"status\": \"Show\" }, { \"id\": \"jt194lgm\", \"name\": \"jt194lgm\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 59.63103503380319, \"time\": 0.22967083333333332, \"status\": \"Show\" }, { \"id\": \"jt195p7m\", \"name\": \"jt195p7m\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 68.75402335586875, \"height\": 58.19684946385905, \"time\": 0.25359350393700786, \"status\": \"Show\" }, { \"id\": \"jt1951r9\", \"name\": \"jt1951r9\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 54.63103503380319, \"time\": 0.31307242063492063, \"status\": \"Show\" }, { \"id\": \"jt195v9l\", \"name\": \"jt195v9l\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 54.63103503380319, \"time\": 0.34623937007874017, \"status\": \"Hide\" } ], \"children\": [], \"parent\": \"jt1922xu\" }, { \"id\": \"jt192wyc\", \"name\": \"jt192wyc\", \"label\": \"1-1\", \"color\": \"rgba(255,0,0,1)\", \"trajectories\": [ { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 274.25, \"y\": 171.73792993239366, \"width\": 40.75402335586878, \"height\": 41.63103503380317, \"time\": 0.0308226495726496, \"status\": \"Show\" }, { \"id\": \"jt19349x\", \"name\": \"jt19349x\", \"x\": 271.25, \"y\": 167.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.03178472222222222, \"status\": \"Show\" }, { \"id\": \"jt193ekd\", \"name\": \"jt193ekd\", \"x\": 274.25, \"y\": 160.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.06388611111111112, \"status\": \"Show\" }, { \"id\": \"jt193hp1\", \"name\": \"jt193hp1\", \"x\": 280.25, \"y\": 160.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.08677242063492063, \"status\": \"Show\" }, { \"id\": \"jt194cbv\", \"name\": \"jt194cbv\", \"x\": 280.1326975821677, \"y\": 158.62062751456136, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.1195857142857143, \"status\": \"Show\" }, { \"id\": \"jt193umg\", \"name\": \"jt193umg\", \"x\": 274.25, \"y\": 154.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.13459007936507936, \"status\": \"Show\" }, { \"id\": \"jt193y7q\", \"name\": \"jt193y7q\", \"x\": 268.25, \"y\": 155.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.1693952380952381, \"status\": \"Show\" }, { \"id\": \"jt194hxg\", \"name\": \"jt194hxg\", \"x\": 260.25, \"y\": 157.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.20233392857142857, \"status\": \"Show\" }, { \"id\": \"jt194mj1\", \"name\": \"jt194mj1\", \"x\": 253.25, \"y\": 156.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.22967083333333332, \"status\": \"Show\" }, { \"id\": \"jt195qgw\", \"name\": \"jt195qgw\", \"x\": 246.25, \"y\": 156.73792993239366, \"width\": 63.66047805713703, \"height\": 58.63103503380316, \"time\": 0.25359350393700786, \"status\": \"Show\" }, { \"id\": \"jt194xqh\", \"name\": \"jt194xqh\", \"x\": 253.25, \"y\": 156.73792993239366, \"width\": 52.75402335586875, \"height\": 58.63103503380316, \"time\": 0.27642281746031744, \"status\": \"Show\" }, { \"id\": \"jt1955u1\", \"name\": \"jt1955u1\", \"x\": 265.25, \"y\": 159.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.3564833333333333, \"status\": \"Show\" }, { \"id\": \"jt195b3i\", \"name\": \"jt195b3i\", \"x\": 265.25, \"y\": 141.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.45984980158730154, \"status\": \"Show\" }, { \"id\": \"jt1961v6\", \"name\": \"jt1961v6\", \"x\": 269.25, \"y\": 144.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.47851751968503936, \"status\": \"Show\" }, { \"id\": \"jt1965az\", \"name\": \"jt1965az\", \"x\": 262.25, \"y\": 144.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.5342496062992126, \"status\": \"Show\" }, { \"id\": \"jt1968nk\", \"name\": \"jt1968nk\", \"x\": 262.25, \"y\": 149.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.5904106299212598, \"status\": \"Show\" }, { \"id\": \"jt196ax3\", \"name\": \"jt196ax3\", \"x\": 270.25, \"y\": 158.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.6662596456692913, \"status\": \"Show\" }, { \"id\": \"jt196dys\", \"name\": \"jt196dys\", \"x\": 268.25, \"y\": 164.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.7368370078740157, \"status\": \"Show\" }, { \"id\": \"jt196guu\", \"name\": \"jt196guu\", \"x\": 272.25, \"y\": 154.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.801053937007874, \"status\": \"Show\" }, { \"id\": \"jt196k7h\", \"name\": \"jt196k7h\", \"x\": 273.25, \"y\": 157.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.8626350393700787, \"status\": \"Show\" } ], \"children\": [], \"parent\": \"jt1922xu\" }, { \"id\": \"jt1922xu\", \"name\": \"jt1922xu\", \"label\": \"1\", \"color\": \"rgba(255,219,0,1)\", \"trajectories\": [ { \"id\": \"jt1922xu\", \"name\": \"jt1922xu\", \"x\": 274.25, \"y\": 174, \"width\": 80, \"height\": 81, \"time\": 0, \"status\": \"Show\" }, { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 274.25, \"y\": 171.73792993239366, \"width\": 81.50804671173756, \"height\": 83.26207006760634, \"time\": 0.0308226495726496, \"status\": \"Split\" } ], \"children\": [ \"jt192wyc\", \"jt192wyd\" ], \"parent\": \"\" } ];\n    // const previewNotices = [\"Cells' body range.\", \"The time that cells <u>split</u>, <u>leave</u>, <u>obscured</u> and <u>show up</u> (if applicable).\"];\n    // const url = 'https://cildata.crbs.ucsd.edu/media/videos/50507/50507_web.mp4';\n    // const annotationWidth = 600;\n    // this.state = {\n    // \tresult: null,\n    // \tinput: {\n    // \t\tannotations: JSON.stringify(annotations),\n    // \t\turl: url,\n    // \t\tannotationWidth: annotationWidth\n    // \t },\n    // \tparams: {\n    // \t\tannotations: annotations,\n    // \t\turl: url,\n    // \t\tpreviewNotices: previewNotices,\n    // \t\tannotationWidth: annotationWidth\n    // \t}\n    // }\n\n    _defineProperty(this, \"handleResultSubmit\", result => {\n      this.setState({\n        result: result\n      });\n      console.log(JSON.stringify(this.state.result));\n    });\n\n    _defineProperty(this, \"handleChange\", event => {\n      const target = event.target;\n      const name = target.name;\n      const value = target.type === \"checkbox\" ? target.checked : target.value;\n      this.setState(preState => {\n        const {\n          input\n        } = preState;\n        return {\n          input: _objectSpread({}, input, {\n            [name]: value\n          })\n        };\n      });\n    });\n\n    _defineProperty(this, \"handleSubmit\", async event => {\n      event.preventDefault();\n      let result = {};\n\n      if (this.fileInput.current.files[0]) {\n        const readFilePromise = new Promise((resolve, reject) => {\n          const fileReader = new FileReader();\n\n          fileReader.onload = event => {\n            if (!this.isJsonString(event.target.result)) reject('Wrong json format');\n            let result = JSON.parse(event.target.result);\n            resolve(result);\n          };\n\n          fileReader.onerror = event => {\n            reject(event);\n          };\n\n          fileReader.readAsText(this.fileInput.current.files[0]);\n        });\n        result = await readFilePromise;\n      }\n\n      let {\n        url = '',\n        videoWidth = 0,\n        defaultAnnotations = []\n      } = result;\n      this.setState(preState => {\n        const {\n          input\n        } = preState;\n\n        if (result.annotations.length === 0) {\n          defaultAnnotations = this.isJsonString(input.defaultAnnotations) ? JSON.parse(input.defaultAnnotations) : [];\n        } else {\n          defaultAnnotations = result.annotations;\n        }\n\n        return {\n          params: {\n            defaultAnnotations,\n            url: url || input.url,\n            videoWidth: videoWidth !== 0 ? videoWidth : parseInt(input.videoWidth, 10)\n          }\n        };\n      });\n      console.log(this.state.result);\n    });\n\n    _defineProperty(this, \"isJsonString\", str => {\n      try {\n        JSON.parse(str);\n      } catch (e) {\n        return false;\n      }\n\n      return true;\n    });\n\n    _defineProperty(this, \"getInterpolatedData\", event => {\n      event.preventDefault();\n      console.log(\"Interpolation fucntion\" + JSON.stringify(temp));\n      const duration = JSON.parse(JSON.stringify(this.state.result.duration));\n      console.log(\"I am here\");\n      console.log(duration);\n      const timerate = duration * 60; //collect frame/second for the video\n\n      const timeNow = new Date().getTime().toString(36);\n      let interpolatedResult = JSON.parse(JSON.stringify(this.state.result));\n      let temp = interpolatedResult;\n\n      for (let annotation = 0; annotation < temp.annotations.length; annotation++) {\n        for (let incident = 0; incident < temp.annotations[annotation].incidents.length; incident++) {\n          temp.annotations[annotation].incidents[incident].parentName = temp.annotations[annotation].parentName;\n        }\n      }\n\n      for (let annotation = 0; annotation < temp.annotations.length; annotation++) {\n        for (let incident = 0; incident < temp.annotations[annotation].incidents.length; incident++) {\n          temp.annotations[annotation].incidents[incident].label = temp.annotations[annotation].label;\n        }\n      }\n\n      for (let i = 0; i < interpolatedResult.annotations.length; i++) {\n        let annotIncidentLength = interpolatedResult.annotations[i].incidents.length;\n\n        if (annotIncidentLength === 1) {\n          console.log(\"This is not possible :P\");\n        } else if (annotIncidentLength > 1) {\n          for (let j = 0; j < annotIncidentLength; j++) {\n            if (j != annotIncidentLength - 1 && (interpolatedResult.annotations[i].incidents[j + 1].status == \"Re-appear\" || interpolatedResult.annotations[i].incidents[j + 1].status == \"\" || interpolatedResult.annotations[i].incidents[j + 1].status == \"Split\")) {\n              const source = interpolatedResult.annotations[i].incidents[j];\n              const target = interpolatedResult.annotations[i].incidents[j + 1];\n              const tdiff = target.time * timerate - source.time * timerate;\n              const xSlope = (target.x - source.x) / tdiff;\n              const ySlope = (target.y - source.y) / tdiff;\n              const wSlope = (target.width - source.width) / tdiff;\n              const hSlope = (target.height - source.height) / tdiff;\n              const sFrame = Math.round(source.time * timerate);\n              const tFrame = Math.round(target.time * timerate);\n\n              for (let k = sFrame + 1; k <= tFrame; k++) {\n                let off = k - Math.round(source.time * timerate);\n                let interpolX = (source.x + xSlope * off).toFixed(2);\n                let interpolY = (source.y + ySlope * off).toFixed(2);\n                let interpolW = (source.width + wSlope * off).toFixed(2);\n                let interpolH = (source.height + hSlope * off).toFixed(2);\n                temp.annotations[i].incidents.splice(j + 1, 0, {\n                  id: `${timeNow}`,\n                  name: `${timeNow}`,\n                  x: interpolX,\n                  y: interpolY,\n                  height: interpolH,\n                  width: interpolW,\n                  time: k,\n                  status,\n                  parentName: interpolatedResult.annotations[i].parentName,\n                  label: interpolatedResult.annotations[i].label\n                });\n              }\n            } //close if \n\n\n            if (j == annotIncidentLength - 1 && (interpolatedResult.annotations[i].incidents[j].status == \"Re-appear\" || interpolatedResult.annotations[i].incidents[j].status == \"\" || interpolatedResult.annotations[i].incidents[j + 1].status == \"Split\")) {\n              const source = interpolatedResult.annotations[i].incidents[j];\n              const target = interpolatedResult.annotations[i].incidents[j];\n              const tdiff = duration * timerate - source.time * timerate;\n              const xSlope = (target.x - source.x) / tdiff;\n              const ySlope = (target.y - source.y) / tdiff;\n              const wSlope = (target.width - source.width) / tdiff;\n              const hSlope = (target.height - source.height) / tdiff;\n              const sFrame = Math.round(source.time * timerate);\n              const tFrame = Math.round(target.time * timerate);\n\n              for (let k = sFrame + 1; k <= tFrame; k++) {\n                let off = k - Math.round(source.time * timerate);\n                let interpolX = source.x + xSlope * off;\n                let interpolY = source.y + ySlope * off;\n                let interpolW = source.width + wSlope * off;\n                let interpolH = source.height + hSlope * off;\n                temp.annotations[i].incidents.splice(j + 1, 0, {\n                  id: `${timeNow}`,\n                  name: `${timeNow}`,\n                  x: interpolX,\n                  y: interpolY,\n                  height: interpolH,\n                  width: interpolW,\n                  time: k,\n                  status,\n                  parentName: temp.annotations[i].parentName,\n                  label: interpolatedResult.annotations[i].label\n                });\n              }\n            } //close second if\n\n          } //close for loop for j\n\n        } //close else-if annotlength>1\n\n      } //close for loop for i\n      //sort the temp object based on time/frame value\n\n\n      let interpol_data_arr = [],\n          sno = 1;\n      console.log(\"Temp array: \" + JSON.stringify(temp));\n\n      for (let x = 0; x < temp.annotations.length; x++) {\n        for (let y = 0; y < temp.annotations[x].incidents.length; y++) {\n          if (!(temp.annotations[x].incidents[y].time > 0 && temp.annotations[x].incidents[y].time < 1)) interpol_data_arr.push(temp.annotations[x].incidents[y]);\n        }\n      }\n\n      for (let p = 0; p < interpol_data_arr.length; p++) {\n        for (let q = 0, stop = interpol_data_arr.length - p - 1; q < stop; q++) {\n          if (interpol_data_arr[q].time == interpol_data_arr[q + 1].time) {\n            var swap = interpol_data_arr[q];\n            interpol_data_arr[q] = interpol_data_arr[q + 1];\n            interpol_data_arr[q + 1] = swap;\n          }\n\n          if (interpol_data_arr[q].time > interpol_data_arr[q + 1].time) {\n            var swap = interpol_data_arr[q];\n            interpol_data_arr[q] = interpol_data_arr[q + 1];\n            interpol_data_arr[q + 1] = swap;\n          }\n        }\n      } //sorting ends\n      //add Sno/ID to each row\n\n\n      for (let id = 0; id < interpol_data_arr.length; id++) {\n        interpol_data_arr[id].serial = interpol_data_arr[id].label; //sno++\n      }\n\n      for (let pa = 0; pa < interpol_data_arr.length; pa++) {\n        for (let qa = 0, stopa = interpol_data_arr.length - pa - 1; qa < stopa; qa++) {\n          // if(interpol_data_arr[qa].time == interpol_data_arr[qa+1].time){\n          // \tvar swapa = interpol_data_arr[qa];\n          // \tinterpol_data_arr[qa] = interpol_data_arr[qa+1];\n          // \tinterpol_data_arr[qa+1] = swapa;\n          // }\n          if (interpol_data_arr[qa].serial > interpol_data_arr[qa + 1].serial) {\n            var swapa = interpol_data_arr[qa];\n            interpol_data_arr[qa] = interpol_data_arr[qa + 1];\n            interpol_data_arr[qa + 1] = swapa;\n          }\n        }\n      } // for(let labelno=0; labelno<interpol_data_arr.length; labelno++){\n      // \tvar n = interpol_data_arr[labelno].label.search(\"-\");\n      // \tif(n<0){\n      // \t\tinterpol_data_arr[labelno].serial = interpol_data_arr[labelno].label\n      // \t}\n      // \telse {\n      // \t\tinterpol_data_arr[labelno].serial = interpol_data_arr[labelno].label[n+1]\n      // \t}\n      // }\n      //Sno/ID added\n\n\n      this.setState({\n        interpolationResult: interpol_data_arr\n      });\n      document.getElementById(\"export-interpol\").style.display = \"block\";\n    });\n\n    _defineProperty(this, \"createTable\", e => {\n      let temp = JSON.parse(JSON.stringify(this.state.interpolationResult));\n      console.log(\"Table temp= \\n\" + JSON.stringify(this.state.interpolationResult));\n      var table = document.getElementById(\"interpol-table\");\n\n      for (var i = 0; i < temp.length; i++) {\n        var row = document.createElement('tr');\n        var cell_sno = document.createElement('td');\n        cell_sno.innerHTML = temp[i].serial;\n        row.appendChild(cell_sno);\n        var cell_x_min = document.createElement('td');\n        var cell_y_min = document.createElement('td');\n        var cell_width = document.createElement('td');\n        var cell_height = document.createElement('td');\n        var cell_frame = document.createElement('td');\n        var cell_lost = document.createElement('td');\n        var cell_occluded = document.createElement('td');\n        var cell_generated = document.createElement('td');\n        var cell_label = document.createElement('td');\n        var cell_parent = document.createElement('td');\n        cell_x_min.innerHTML = temp[i].x;\n        cell_y_min.innerHTML = temp[i].y;\n        cell_width.innerHTML = temp[i].width;\n        cell_height.innerHTML = temp[i].height;\n        cell_frame.innerHTML = temp[i].time;\n        cell_lost.innerHTML = 0;\n        cell_occluded.innerHTML = 0;\n        cell_generated.innerHTML = 0;\n        cell_label.innerHTML = temp[i].label;\n        cell_parent.innerHTML = temp[i].parentName; //row.appendChild(cell_id);\n\n        row.appendChild(cell_x_min);\n        row.appendChild(cell_y_min);\n        row.appendChild(cell_width);\n        row.appendChild(cell_height);\n        row.appendChild(cell_frame);\n        row.appendChild(cell_lost);\n        row.appendChild(cell_occluded);\n        row.appendChild(cell_generated);\n        row.appendChild(cell_label);\n        row.appendChild(cell_parent);\n        table.appendChild(row);\n      }\n\n      this.downloadInterpolTable();\n    });\n\n    _defineProperty(this, \"export_table_to_csv\", (html, filename) => {\n      var csv = [];\n      var rows = document.querySelectorAll(\"table tr\");\n\n      for (var i = 0; i < rows.length; i++) {\n        var row = [],\n            cols = rows[i].querySelectorAll(\"td, th\");\n\n        for (var j = 0; j < cols.length; j++) row.push(cols[j].innerText);\n\n        csv.push(row.join(\",\"));\n      } // Download CSV\n\n\n      this.download_csv(csv.join(\"\\n\"), filename);\n    });\n\n    _defineProperty(this, \"download_csv\", (csv, filename) => {\n      var csvFile;\n      var downloadLink; // CSV FILE\n\n      csvFile = new Blob([csv], {\n        type: \"text/csv\"\n      }); // Download link\n\n      downloadLink = document.createElement(\"a\"); // File name\n\n      downloadLink.download = filename; // We have to create a link to the file\n\n      downloadLink.href = window.URL.createObjectURL(csvFile); // Make sure that the link is not displayed\n\n      downloadLink.style.display = \"none\"; // Add the link to your DOM\n\n      document.body.appendChild(downloadLink); // Lanzamos\n\n      downloadLink.click();\n    });\n\n    _defineProperty(this, \"downloadInterpolTable\", () => {\n      var html = document.querySelector(\"table\").outerHTML;\n      this.export_table_to_csv(html, \"table.csv\");\n    });\n\n    this.state = {\n      myStream: null,\n      result: null,\n      interpolationResult: null,\n      input: {\n        defaultAnnotations: JSON.stringify(_defaultAnnotations),\n        url: _url,\n        videoWidth: _videoWidth,\n        previewHeader,\n        previewNoticeList,\n        emptyCheckSubmissionWarningText,\n        emptyCheckAnnotationItemWarningText,\n        emptyAnnotationReminderText\n      },\n      params: {\n        defaultAnnotations: [],\n        url: _url,\n        videoWidth: _videoWidth,\n        previewHeader,\n        previewNoticeList,\n        emptyCheckSubmissionWarningText,\n        emptyCheckAnnotationItemWarningText,\n        emptyAnnotationReminderText\n      }\n    }; //start content from react tool\n\n    const _temp = {};\n    const _defaultAnnotations = [{\n      id: 'jt192wyd',\n      name: 'jt192wyd',\n      label: '1-2',\n      color: 'rgba(255,0,0,1)',\n      incidents: [{\n        id: 'jt192wyb',\n        name: 'jt192wyb',\n        x: 295.00402335586875,\n        y: 193.3689649661968,\n        width: 40.75402335586878,\n        height: 41.63103503380317,\n        time: 0.0308226495726496,\n        status: 'Show'\n      }, {\n        id: 'jt1930nb',\n        name: 'jt1930nb',\n        x: 304.00402335586875,\n        y: 202.3689649661968,\n        width: 58.75402335586875,\n        height: 60.63103503380319,\n        time: 0.03178472222222222,\n        status: 'Show'\n      }, {\n        id: 'jt193fim',\n        name: 'jt193fim',\n        x: 309.00402335586875,\n        y: 213.3689649661968,\n        width: 58.75402335586875,\n        height: 60.63103503380319,\n        time: 0.06388611111111112,\n        status: 'Show'\n      }, {\n        id: 'jt193ijo',\n        name: 'jt193ijo',\n        x: 320.00402335586875,\n        y: 220.3689649661968,\n        width: 58.75402335586875,\n        height: 74.63103503380319,\n        time: 0.08677242063492063,\n        status: 'Show'\n      }, {\n        id: 'jt19484m',\n        name: 'jt19484m',\n        x: 320.48992156587633,\n        y: 218.42537212616642,\n        width: 60.697616195899116,\n        height: 78.17334040378043,\n        time: 0.0966718253968254,\n        status: 'Show'\n      }, {\n        id: 'jt193o4y',\n        name: 'jt193o4y',\n        x: 321.00402335586875,\n        y: 216.3689649661968,\n        width: 62.75402335586875,\n        height: 71.63103503380319,\n        time: 0.10714583333333334,\n        status: 'Show'\n      }, {\n        id: 'jt194dom',\n        name: 'jt194dom',\n        x: 321.00402335586875,\n        y: 218.8083044640243,\n        width: 62.75402335586875,\n        height: 69.1916955359757,\n        time: 0.1195857142857143,\n        status: 'Show'\n      }, {\n        id: 'jt193taw',\n        name: 'jt193taw',\n        x: 321.00402335586875,\n        y: 228.3689649661968,\n        width: 62.75402335586875,\n        height: 59.63103503380319,\n        time: 0.13459007936507936,\n        status: 'Show'\n      }, {\n        id: 'jt193zb4',\n        name: 'jt193zb4',\n        x: 318.00402335586875,\n        y: 228.3689649661968,\n        width: 81.75402335586875,\n        height: 59.63103503380319,\n        time: 0.1693952380952381,\n        status: 'Show'\n      }, {\n        id: 'jt195ltz',\n        name: 'jt195ltz',\n        x: 328.2874098641244,\n        y: 230.6523514744525,\n        width: 70.85164231813906,\n        height: 56.631035033803215,\n        time: 0.1985523622047244,\n        status: 'Show'\n      }, {\n        id: 'jt194trg',\n        name: 'jt194trg',\n        x: 322.00402335586875,\n        y: 232.3689649661968,\n        width: 76.66967862975952,\n        height: 59.63103503380319,\n        time: 0.22047222222222224,\n        status: 'Show'\n      }, {\n        id: 'jt194lgm',\n        name: 'jt194lgm',\n        x: 318.00402335586875,\n        y: 228.3689649661968,\n        width: 75.75402335586875,\n        height: 59.63103503380319,\n        time: 0.22967083333333332,\n        status: 'Show'\n      }, {\n        id: 'jt195p7m',\n        name: 'jt195p7m',\n        x: 318.00402335586875,\n        y: 228.3689649661968,\n        width: 68.75402335586875,\n        height: 58.19684946385905,\n        time: 0.25359350393700786,\n        status: 'Show'\n      }, {\n        id: 'jt1951r9',\n        name: 'jt1951r9',\n        x: 318.00402335586875,\n        y: 228.3689649661968,\n        width: 75.75402335586875,\n        height: 54.63103503380319,\n        time: 0.31307242063492063,\n        status: 'Show'\n      }, {\n        id: 'jt195v9l',\n        name: 'jt195v9l',\n        x: 318.00402335586875,\n        y: 228.3689649661968,\n        width: 75.75402335586875,\n        height: 54.63103503380319,\n        time: 0.34623937007874017,\n        status: 'Hide'\n      }],\n      childrenNames: [],\n      parentName: 'jt1922xu'\n    }, {\n      id: 'jt192wyc',\n      name: 'jt192wyc',\n      label: '1-1',\n      color: 'rgba(255,0,0,1)',\n      incidents: [{\n        id: 'jt192wyb',\n        name: 'jt192wyb',\n        x: 274.25,\n        y: 171.73792993239366,\n        width: 40.75402335586878,\n        height: 41.63103503380317,\n        time: 0.0308226495726496,\n        status: 'Show'\n      }, {\n        id: 'jt19349x',\n        name: 'jt19349x',\n        x: 271.25,\n        y: 167.73792993239366,\n        width: 60.75402335586875,\n        height: 58.63103503380316,\n        time: 0.03178472222222222,\n        status: 'Show'\n      }, {\n        id: 'jt193ekd',\n        name: 'jt193ekd',\n        x: 274.25,\n        y: 160.73792993239366,\n        width: 60.75402335586875,\n        height: 58.63103503380316,\n        time: 0.06388611111111112,\n        status: 'Show'\n      }, {\n        id: 'jt193hp1',\n        name: 'jt193hp1',\n        x: 280.25,\n        y: 160.73792993239366,\n        width: 60.75402335586875,\n        height: 58.63103503380316,\n        time: 0.08677242063492063,\n        status: 'Show'\n      }, {\n        id: 'jt194cbv',\n        name: 'jt194cbv',\n        x: 280.1326975821677,\n        y: 158.62062751456136,\n        width: 60.75402335586875,\n        height: 58.63103503380316,\n        time: 0.1195857142857143,\n        status: 'Show'\n      }, {\n        id: 'jt193umg',\n        name: 'jt193umg',\n        x: 274.25,\n        y: 154.73792993239366,\n        width: 60.75402335586875,\n        height: 58.63103503380316,\n        time: 0.13459007936507936,\n        status: 'Show'\n      }, {\n        id: 'jt193y7q',\n        name: 'jt193y7q',\n        x: 268.25,\n        y: 155.73792993239366,\n        width: 60.75402335586875,\n        height: 58.63103503380316,\n        time: 0.1693952380952381,\n        status: 'Show'\n      }, {\n        id: 'jt194hxg',\n        name: 'jt194hxg',\n        x: 260.25,\n        y: 157.73792993239366,\n        width: 60.75402335586875,\n        height: 58.63103503380316,\n        time: 0.20233392857142857,\n        status: 'Show'\n      }, {\n        id: 'jt194mj1',\n        name: 'jt194mj1',\n        x: 253.25,\n        y: 156.73792993239366,\n        width: 60.75402335586875,\n        height: 58.63103503380316,\n        time: 0.22967083333333332,\n        status: 'Show'\n      }, {\n        id: 'jt195qgw',\n        name: 'jt195qgw',\n        x: 246.25,\n        y: 156.73792993239366,\n        width: 63.66047805713703,\n        height: 58.63103503380316,\n        time: 0.25359350393700786,\n        status: 'Show'\n      }, {\n        id: 'jt194xqh',\n        name: 'jt194xqh',\n        x: 253.25,\n        y: 156.73792993239366,\n        width: 52.75402335586875,\n        height: 58.63103503380316,\n        time: 0.27642281746031744,\n        status: 'Show'\n      }, {\n        id: 'jt1955u1',\n        name: 'jt1955u1',\n        x: 265.25,\n        y: 159.73792993239366,\n        width: 40.75402335586875,\n        height: 49.63103503380316,\n        time: 0.3564833333333333,\n        status: 'Show'\n      }, {\n        id: 'jt195b3i',\n        name: 'jt195b3i',\n        x: 265.25,\n        y: 141.73792993239366,\n        width: 40.75402335586875,\n        height: 49.63103503380316,\n        time: 0.45984980158730154,\n        status: 'Show'\n      }, {\n        id: 'jt1961v6',\n        name: 'jt1961v6',\n        x: 269.25,\n        y: 144.73792993239366,\n        width: 40.75402335586875,\n        height: 49.63103503380316,\n        time: 0.47851751968503936,\n        status: 'Show'\n      }, {\n        id: 'jt1965az',\n        name: 'jt1965az',\n        x: 262.25,\n        y: 144.73792993239366,\n        width: 47.75402335586875,\n        height: 49.63103503380316,\n        time: 0.5342496062992126,\n        status: 'Show'\n      }, {\n        id: 'jt1968nk',\n        name: 'jt1968nk',\n        x: 262.25,\n        y: 149.73792993239366,\n        width: 47.75402335586875,\n        height: 49.63103503380316,\n        time: 0.5904106299212598,\n        status: 'Show'\n      }, {\n        id: 'jt196ax3',\n        name: 'jt196ax3',\n        x: 270.25,\n        y: 158.73792993239366,\n        width: 47.75402335586875,\n        height: 49.63103503380316,\n        time: 0.6662596456692913,\n        status: 'Show'\n      }, {\n        id: 'jt196dys',\n        name: 'jt196dys',\n        x: 268.25,\n        y: 164.73792993239366,\n        width: 47.75402335586875,\n        height: 49.63103503380316,\n        time: 0.7368370078740157,\n        status: 'Show'\n      }, {\n        id: 'jt196guu',\n        name: 'jt196guu',\n        x: 272.25,\n        y: 154.73792993239366,\n        width: 47.75402335586875,\n        height: 49.63103503380316,\n        time: 0.801053937007874,\n        status: 'Show'\n      }, {\n        id: 'jt196k7h',\n        name: 'jt196k7h',\n        x: 273.25,\n        y: 157.73792993239366,\n        width: 47.75402335586875,\n        height: 49.63103503380316,\n        time: 0.8626350393700787,\n        status: 'Show'\n      }],\n      childrenNames: [],\n      parentName: 'jt1922xu'\n    }, {\n      id: 'jt1922xu',\n      name: 'jt1922xu',\n      label: '1',\n      color: 'rgba(255,219,0,1)',\n      incidents: [{\n        id: 'jt1922xu',\n        name: 'jt1922xu',\n        x: 274.25,\n        y: 174,\n        width: 80,\n        height: 81,\n        time: 0,\n        status: 'Show'\n      }, {\n        id: 'jt192wyb',\n        name: 'jt192wyb',\n        x: 274.25,\n        y: 171.73792993239366,\n        width: 81.50804671173756,\n        height: 83.26207006760634,\n        time: 0.0308226495726496,\n        status: 'Split'\n      }],\n      childrenNames: ['jt192wyc', 'jt192wyd'],\n      parentName: ''\n    }];\n    const _url = 'https://cildata.crbs.ucsd.edu/media/videos/50507/50507_web.mp4';\n    const _videoWidth = 500;\n    const previewNoticeList = ['Cells\\' body range.', 'The time that cells <u>split</u>, <u>leave</u>, <u>obscured</u> and <u>Show up</u> (if applicable).'];\n    const previewHeader = 'Please scan the video and observe the following to help you complete the task:';\n    const emptyCheckSubmissionWarningText = 'Please annotate AND track one unmarked cell to complete this task.';\n    const emptyCheckAnnotationItemWarningText = 'Step 2: Please track the cell bound by this box';\n    const emptyAnnotationReminderText = 'Step 1: Click the button above to add a new box around a cell';\n    this.fileInput = React.createRef();\n    this.state = {\n      myStream: null,\n      result: null,\n      interpolationResult: null,\n      input: {\n        defaultAnnotations: JSON.stringify(_defaultAnnotations),\n        url: _url,\n        videoWidth: _videoWidth,\n        previewHeader,\n        previewNoticeList,\n        emptyCheckSubmissionWarningText,\n        emptyCheckAnnotationItemWarningText,\n        emptyAnnotationReminderText\n      },\n      params: {\n        defaultAnnotations: [],\n        url: _url,\n        videoWidth: _videoWidth,\n        previewHeader,\n        previewNoticeList,\n        emptyCheckSubmissionWarningText,\n        emptyCheckAnnotationItemWarningText,\n        emptyAnnotationReminderText\n      }\n    }; //end content from react tool\n    //close constructor props\t\n  }\n\n  render() {\n    const {\n      result,\n      input,\n      params\n    } = this.state;\n    let dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(result));\n    return __jsx(Container, {\n      fluid: true,\n      className: \"py-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 4\n      }\n    }, __jsx(\"a\", {\n      href: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 5\n      }\n    }, \"Login\"), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 33\n      }\n    }), __jsx(\"h1\", {\n      className: \"display-4  text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 5\n      }\n    }, \"CrowdMOT: A Video Annotation Tool\"), __jsx(Row, {\n      className: \"my-3 col-xs-12 col-lg-10 offset-lg-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 5\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 6\n      }\n    }, __jsx(Instructions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 7\n      }\n    }))), __jsx(Form, {\n      className: \"mb-2 col-xs-12 col-lg-10 offset-lg-1\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 5\n      }\n    }, __jsx(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 6\n      }\n    }, __jsx(Label, {\n      for: \"URL\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 7\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 24\n      }\n    }, \"Enter the video URL:\")), __jsx(Input, {\n      type: \"text\",\n      name: \"url\",\n      placeholder: \"http://...\",\n      value: input.url,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 7\n      }\n    })), __jsx(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 6\n      }\n    }, __jsx(Label, {\n      for: \"Annotation Width\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 7\n      }\n    }, \"Video Width\"), __jsx(Input, {\n      type: \"text\",\n      name: \"videoWidth\",\n      placeholder: \"number\",\n      value: input.videoWidth,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 7\n      }\n    })), __jsx(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 6\n      }\n    }, __jsx(Label, {\n      for: \"exampleFile\",\n      className: \"pr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 7\n      }\n    }, \"Upload Default Annotations\"), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 83\n      }\n    }), __jsx(\"input\", {\n      type: \"file\",\n      name: \"file\",\n      id: \"exampleFile\",\n      ref: this.fileInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 7\n      }\n    })), __jsx(Row, {\n      className: \"my-3 col-xs-12 col-lg-10 offset-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 6\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 7\n      }\n    }, __jsx(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 8\n      }\n    }, \"Submit\")))), __jsx(Row, {\n      className: \"py-3\",\n      style: {\n        background: \"rgb(246, 246, 246)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 5\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 6\n      }\n    }, __jsx(VideoTool, {\n      key: `${JSON.stringify(params.url)}\n\t\t\t\t\t\t\t\t ${JSON.stringify(params.defaultAnnotations)}\n\t\t\t\t\t\t\t\t ${JSON.stringify(params.videoWidth)}\n\t\t\t\t\t\t\t\t ${JSON.stringify(params.previewHeader)}\n\t\t\t\t\t\t\t\t ${JSON.stringify(params.previewNoticeList)}` //the last three to be replaced by the two below and change defaultAnnotations to annotations\n      //  ${JSON.stringify(params.annotationWidth)}\n      //  ${JSON.stringify(params.previewNotices)}`\n      ,\n      onSubmit: this.handleResultSubmit,\n      url: params.url //made changes here annotations (on both sides) changed to defaultAnnotation\n      ,\n      defaultAnnotations: params.defaultAnnotations,\n      videoWidth: params.videoWidth,\n      previewHeader: params.previewHeader,\n      previewNoticeList: params.previewNoticeList,\n      hasReview: true,\n      isEmptyCheckEnable: true,\n      isSplitEnable: true,\n      isShowHideEnable: true,\n      numAnnotationsToBeAdded: 20,\n      emptyCheckSubmissionWarningText: params.emptyCheckSubmissionWarningText,\n      emptyCheckAnnotationItemWarningText: params.emptyCheckAnnotationItemWarningText,\n      emptyAnnotationReminderText: params.emptyAnnotationReminderText //replace everything after defaultannotations with the what is down below\n      // annotationWidth={params.annotationWidth}\n      // numberOfParentAnnotationsToBeAdded={100000}\n      // previewNotices={params.previewNotices}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 7\n      }\n    }))), __jsx(Row, {\n      className: \"my-3 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 5\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 6\n      }\n    }, __jsx(Button, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 7\n      }\n    }, __jsx(CSVLink, {\n      data: JSON.stringify(result, null, 2),\n      style: {\n        color: 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 31\n      }\n    }, \"Download Raw Data\")), console.log(JSON.stringify(result, null, 2))), __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 6\n      }\n    }, __jsx(Button, {\n      color: \"primary\",\n      onClick: this.getInterpolatedData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 7\n      }\n    }, \"Generate Interpolated Data\")), __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 6\n      }\n    }, __jsx(Button, {\n      id: \"export-interpol\",\n      color: \"primary\",\n      style: {\n        display: 'none',\n        color: '#ffffff',\n        border: `1px solid`\n      },\n      onClick: this.createTable,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 7\n      }\n    }, \"Download Interpolated Data\"))), __jsx(Row, {\n      className: \"my-3 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 5\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 6\n      }\n    }, __jsx(\"table\", {\n      id: \"interpol-table\",\n      style: {\n        display: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 7\n      }\n    }, __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 8\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 9\n      }\n    }, \"Track ID\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 9\n      }\n    }, \"x-min\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 9\n      }\n    }, \"y-min\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 9\n      }\n    }, \"width\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 9\n      }\n    }, \"height\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 9\n      }\n    }, \"Frame\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 9\n      }\n    }, \"Lost\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 9\n      }\n    }, \"Occluded\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 9\n      }\n    }, \"Generated\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 9\n      }\n    }, \"Label\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 9\n      }\n    }, \"Parent\"))))), __jsx(Row, {\n      className: \"my-3 col-xs-12 col-lg-10 offset-lg-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 5\n      }\n    }, __jsx(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 6\n      }\n    }, __jsx(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 7\n      }\n    }, __jsx(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 13\n      }\n    }, __jsx(\"a\", {\n      href: dataStr,\n      className: \"btn btn-secondary btn-lg\",\n      download: `${params.url}.json`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 23\n      }\n    }, \" Download the Annotations\")))), \"  \"));\n  }\n\n}\n\nexport default Demo;","map":{"version":3,"sources":["/Applications/CrowdMOT/crowdmot-nextjs/components/videoAnnotationDemo/VideoAnnotationDemo.js"],"names":["React","Component","VideoTool","Instructions","Container","Row","Col","Card","CardBody","CardTitle","CardText","Button","Form","FormGroup","Label","Input","Link","BrowserRouter","Switch","CSVLink","CSVDownload","Demo","constructor","props","result","setState","console","log","JSON","stringify","state","event","target","name","value","type","checked","preState","input","preventDefault","fileInput","current","files","readFilePromise","Promise","resolve","reject","fileReader","FileReader","onload","isJsonString","parse","onerror","readAsText","url","videoWidth","defaultAnnotations","annotations","length","params","parseInt","str","e","temp","duration","timerate","timeNow","Date","getTime","toString","interpolatedResult","annotation","incident","incidents","parentName","label","i","annotIncidentLength","j","status","source","tdiff","time","xSlope","x","ySlope","y","wSlope","width","hSlope","height","sFrame","Math","round","tFrame","k","off","interpolX","toFixed","interpolY","interpolW","interpolH","splice","id","interpol_data_arr","sno","push","p","q","stop","swap","serial","pa","qa","stopa","swapa","interpolationResult","document","getElementById","style","display","table","row","createElement","cell_sno","innerHTML","appendChild","cell_x_min","cell_y_min","cell_width","cell_height","cell_frame","cell_lost","cell_occluded","cell_generated","cell_label","cell_parent","downloadInterpolTable","html","filename","csv","rows","querySelectorAll","cols","innerText","join","download_csv","csvFile","downloadLink","Blob","download","href","window","URL","createObjectURL","body","click","querySelector","outerHTML","export_table_to_csv","myStream","previewHeader","previewNoticeList","emptyCheckSubmissionWarningText","emptyCheckAnnotationItemWarningText","emptyAnnotationReminderText","color","childrenNames","createRef","render","dataStr","encodeURIComponent","handleSubmit","handleChange","background","handleResultSubmit","getInterpolatedData","border","createTable"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { VideoTool } from \"react-annotation-tool\"\nimport Instructions from \"../videoInstruction/VideoInstruction\"\nimport { Container, Row, Col, Card, CardBody, CardTitle, CardText } from 'reactstrap';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { Link, BrowserRouter, Switch } from 'react-router-dom';\nimport { CSVLink, CSVDownload } from \"react-csv\";\n// import { array } from 'prop-types';\n// import ReactHTMLTableToExcel from 'react-html-table-to-excel';\n// import { MdBubbleChart } from 'react-icons/md';\n\nclass Demo extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\t// const fs = require('fs');\n\t\t// const annotations = [];//[ { \"id\": \"jt192wyd\", \"name\": \"jt192wyd\", \"label\": \"1-2\", \"color\": \"rgba(255,0,0,1)\", \"trajectories\": [ { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 295.00402335586875, \"y\": 193.3689649661968, \"width\": 40.75402335586878, \"height\": 41.63103503380317, \"time\": 0.0308226495726496, \"status\": \"Show\" }, { \"id\": \"jt1930nb\", \"name\": \"jt1930nb\", \"x\": 304.00402335586875, \"y\": 202.3689649661968, \"width\": 58.75402335586875, \"height\": 60.63103503380319, \"time\": 0.03178472222222222, \"status\": \"Show\" }, { \"id\": \"jt193fim\", \"name\": \"jt193fim\", \"x\": 309.00402335586875, \"y\": 213.3689649661968, \"width\": 58.75402335586875, \"height\": 60.63103503380319, \"time\": 0.06388611111111112, \"status\": \"Show\" }, { \"id\": \"jt193ijo\", \"name\": \"jt193ijo\", \"x\": 320.00402335586875, \"y\": 220.3689649661968, \"width\": 58.75402335586875, \"height\": 74.63103503380319, \"time\": 0.08677242063492063, \"status\": \"Show\" }, { \"id\": \"jt19484m\", \"name\": \"jt19484m\", \"x\": 320.48992156587633, \"y\": 218.42537212616642, \"width\": 60.697616195899116, \"height\": 78.17334040378043, \"time\": 0.0966718253968254, \"status\": \"Show\" }, { \"id\": \"jt193o4y\", \"name\": \"jt193o4y\", \"x\": 321.00402335586875, \"y\": 216.3689649661968, \"width\": 62.75402335586875, \"height\": 71.63103503380319, \"time\": 0.10714583333333334, \"status\": \"Show\" }, { \"id\": \"jt194dom\", \"name\": \"jt194dom\", \"x\": 321.00402335586875, \"y\": 218.8083044640243, \"width\": 62.75402335586875, \"height\": 69.1916955359757, \"time\": 0.1195857142857143, \"status\": \"Show\" }, { \"id\": \"jt193taw\", \"name\": \"jt193taw\", \"x\": 321.00402335586875, \"y\": 228.3689649661968, \"width\": 62.75402335586875, \"height\": 59.63103503380319, \"time\": 0.13459007936507936, \"status\": \"Show\" }, { \"id\": \"jt193zb4\", \"name\": \"jt193zb4\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 81.75402335586875, \"height\": 59.63103503380319, \"time\": 0.1693952380952381, \"status\": \"Show\" }, { \"id\": \"jt195ltz\", \"name\": \"jt195ltz\", \"x\": 328.2874098641244, \"y\": 230.6523514744525, \"width\": 70.85164231813906, \"height\": 56.631035033803215, \"time\": 0.1985523622047244, \"status\": \"Show\" }, { \"id\": \"jt194trg\", \"name\": \"jt194trg\", \"x\": 322.00402335586875, \"y\": 232.3689649661968, \"width\": 76.66967862975952, \"height\": 59.63103503380319, \"time\": 0.22047222222222224, \"status\": \"Show\" }, { \"id\": \"jt194lgm\", \"name\": \"jt194lgm\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 59.63103503380319, \"time\": 0.22967083333333332, \"status\": \"Show\" }, { \"id\": \"jt195p7m\", \"name\": \"jt195p7m\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 68.75402335586875, \"height\": 58.19684946385905, \"time\": 0.25359350393700786, \"status\": \"Show\" }, { \"id\": \"jt1951r9\", \"name\": \"jt1951r9\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 54.63103503380319, \"time\": 0.31307242063492063, \"status\": \"Show\" }, { \"id\": \"jt195v9l\", \"name\": \"jt195v9l\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 54.63103503380319, \"time\": 0.34623937007874017, \"status\": \"Hide\" } ], \"children\": [], \"parent\": \"jt1922xu\" }, { \"id\": \"jt192wyc\", \"name\": \"jt192wyc\", \"label\": \"1-1\", \"color\": \"rgba(255,0,0,1)\", \"trajectories\": [ { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 274.25, \"y\": 171.73792993239366, \"width\": 40.75402335586878, \"height\": 41.63103503380317, \"time\": 0.0308226495726496, \"status\": \"Show\" }, { \"id\": \"jt19349x\", \"name\": \"jt19349x\", \"x\": 271.25, \"y\": 167.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.03178472222222222, \"status\": \"Show\" }, { \"id\": \"jt193ekd\", \"name\": \"jt193ekd\", \"x\": 274.25, \"y\": 160.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.06388611111111112, \"status\": \"Show\" }, { \"id\": \"jt193hp1\", \"name\": \"jt193hp1\", \"x\": 280.25, \"y\": 160.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.08677242063492063, \"status\": \"Show\" }, { \"id\": \"jt194cbv\", \"name\": \"jt194cbv\", \"x\": 280.1326975821677, \"y\": 158.62062751456136, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.1195857142857143, \"status\": \"Show\" }, { \"id\": \"jt193umg\", \"name\": \"jt193umg\", \"x\": 274.25, \"y\": 154.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.13459007936507936, \"status\": \"Show\" }, { \"id\": \"jt193y7q\", \"name\": \"jt193y7q\", \"x\": 268.25, \"y\": 155.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.1693952380952381, \"status\": \"Show\" }, { \"id\": \"jt194hxg\", \"name\": \"jt194hxg\", \"x\": 260.25, \"y\": 157.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.20233392857142857, \"status\": \"Show\" }, { \"id\": \"jt194mj1\", \"name\": \"jt194mj1\", \"x\": 253.25, \"y\": 156.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.22967083333333332, \"status\": \"Show\" }, { \"id\": \"jt195qgw\", \"name\": \"jt195qgw\", \"x\": 246.25, \"y\": 156.73792993239366, \"width\": 63.66047805713703, \"height\": 58.63103503380316, \"time\": 0.25359350393700786, \"status\": \"Show\" }, { \"id\": \"jt194xqh\", \"name\": \"jt194xqh\", \"x\": 253.25, \"y\": 156.73792993239366, \"width\": 52.75402335586875, \"height\": 58.63103503380316, \"time\": 0.27642281746031744, \"status\": \"Show\" }, { \"id\": \"jt1955u1\", \"name\": \"jt1955u1\", \"x\": 265.25, \"y\": 159.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.3564833333333333, \"status\": \"Show\" }, { \"id\": \"jt195b3i\", \"name\": \"jt195b3i\", \"x\": 265.25, \"y\": 141.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.45984980158730154, \"status\": \"Show\" }, { \"id\": \"jt1961v6\", \"name\": \"jt1961v6\", \"x\": 269.25, \"y\": 144.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.47851751968503936, \"status\": \"Show\" }, { \"id\": \"jt1965az\", \"name\": \"jt1965az\", \"x\": 262.25, \"y\": 144.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.5342496062992126, \"status\": \"Show\" }, { \"id\": \"jt1968nk\", \"name\": \"jt1968nk\", \"x\": 262.25, \"y\": 149.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.5904106299212598, \"status\": \"Show\" }, { \"id\": \"jt196ax3\", \"name\": \"jt196ax3\", \"x\": 270.25, \"y\": 158.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.6662596456692913, \"status\": \"Show\" }, { \"id\": \"jt196dys\", \"name\": \"jt196dys\", \"x\": 268.25, \"y\": 164.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.7368370078740157, \"status\": \"Show\" }, { \"id\": \"jt196guu\", \"name\": \"jt196guu\", \"x\": 272.25, \"y\": 154.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.801053937007874, \"status\": \"Show\" }, { \"id\": \"jt196k7h\", \"name\": \"jt196k7h\", \"x\": 273.25, \"y\": 157.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.8626350393700787, \"status\": \"Show\" } ], \"children\": [], \"parent\": \"jt1922xu\" }, { \"id\": \"jt1922xu\", \"name\": \"jt1922xu\", \"label\": \"1\", \"color\": \"rgba(255,219,0,1)\", \"trajectories\": [ { \"id\": \"jt1922xu\", \"name\": \"jt1922xu\", \"x\": 274.25, \"y\": 174, \"width\": 80, \"height\": 81, \"time\": 0, \"status\": \"Show\" }, { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 274.25, \"y\": 171.73792993239366, \"width\": 81.50804671173756, \"height\": 83.26207006760634, \"time\": 0.0308226495726496, \"status\": \"Split\" } ], \"children\": [ \"jt192wyc\", \"jt192wyd\" ], \"parent\": \"\" } ];\n\t\t// const previewNotices = [\"Cells' body range.\", \"The time that cells <u>split</u>, <u>leave</u>, <u>obscured</u> and <u>show up</u> (if applicable).\"];\n\t\t// const url = 'https://cildata.crbs.ucsd.edu/media/videos/50507/50507_web.mp4';\n\t\t// const annotationWidth = 600;\n\t\t// this.state = {\n\t\t// \tresult: null,\n\t\t// \tinput: {\n\t\t// \t\tannotations: JSON.stringify(annotations),\n\t\t// \t\turl: url,\n\t\t// \t\tannotationWidth: annotationWidth\n\t\t// \t },\n\t\t// \tparams: {\n\t\t// \t\tannotations: annotations,\n\t\t// \t\turl: url,\n\t\t// \t\tpreviewNotices: previewNotices,\n\t\t// \t\tannotationWidth: annotationWidth\n\t\t// \t}\n\t\t// }\n\t\tthis.state = {\n\t\t\tmyStream: null,\n\t\t\tresult: null,\n\t\t\tinterpolationResult: null,\n\t\t\tinput: {\n\t\t\t\tdefaultAnnotations: JSON.stringify(defaultAnnotations),\n\t\t\t\turl,\n\t\t\t\tvideoWidth,\n\t\t\t\tpreviewHeader,\n\t\t\t\tpreviewNoticeList,\n\t\t\t\temptyCheckSubmissionWarningText,\n\t\t\t\temptyCheckAnnotationItemWarningText,\n\t\t\t\temptyAnnotationReminderText,\n\t\t\t},\n\t\t\tparams: {\n\t\t\t\tdefaultAnnotations: [],\n\t\t\t\turl,\n\t\t\t\tvideoWidth,\n\t\t\t\tpreviewHeader,\n\t\t\t\tpreviewNoticeList,\n\t\t\t\temptyCheckSubmissionWarningText,\n\t\t\t\temptyCheckAnnotationItemWarningText,\n\t\t\t\temptyAnnotationReminderText,\n\t\t\t}\n\t\t}\n\t\t//start content from react tool\n\t\tconst temp = {};\n\t\tconst defaultAnnotations = [{\n\t\t\tid: 'jt192wyd',\n\t\t\tname: 'jt192wyd',\n\t\t\tlabel: '1-2',\n\t\t\tcolor: 'rgba(255,0,0,1)',\n\t\t\tincidents: [{\n\t\t\t\tid: 'jt192wyb', name: 'jt192wyb', x: 295.00402335586875, y: 193.3689649661968, width: 40.75402335586878, height: 41.63103503380317, time: 0.0308226495726496, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt1930nb', name: 'jt1930nb', x: 304.00402335586875, y: 202.3689649661968, width: 58.75402335586875, height: 60.63103503380319, time: 0.03178472222222222, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt193fim', name: 'jt193fim', x: 309.00402335586875, y: 213.3689649661968, width: 58.75402335586875, height: 60.63103503380319, time: 0.06388611111111112, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt193ijo', name: 'jt193ijo', x: 320.00402335586875, y: 220.3689649661968, width: 58.75402335586875, height: 74.63103503380319, time: 0.08677242063492063, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt19484m', name: 'jt19484m', x: 320.48992156587633, y: 218.42537212616642, width: 60.697616195899116, height: 78.17334040378043, time: 0.0966718253968254, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt193o4y', name: 'jt193o4y', x: 321.00402335586875, y: 216.3689649661968, width: 62.75402335586875, height: 71.63103503380319, time: 0.10714583333333334, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt194dom', name: 'jt194dom', x: 321.00402335586875, y: 218.8083044640243, width: 62.75402335586875, height: 69.1916955359757, time: 0.1195857142857143, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt193taw', name: 'jt193taw', x: 321.00402335586875, y: 228.3689649661968, width: 62.75402335586875, height: 59.63103503380319, time: 0.13459007936507936, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt193zb4', name: 'jt193zb4', x: 318.00402335586875, y: 228.3689649661968, width: 81.75402335586875, height: 59.63103503380319, time: 0.1693952380952381, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt195ltz', name: 'jt195ltz', x: 328.2874098641244, y: 230.6523514744525, width: 70.85164231813906, height: 56.631035033803215, time: 0.1985523622047244, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt194trg', name: 'jt194trg', x: 322.00402335586875, y: 232.3689649661968, width: 76.66967862975952, height: 59.63103503380319, time: 0.22047222222222224, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt194lgm', name: 'jt194lgm', x: 318.00402335586875, y: 228.3689649661968, width: 75.75402335586875, height: 59.63103503380319, time: 0.22967083333333332, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt195p7m', name: 'jt195p7m', x: 318.00402335586875, y: 228.3689649661968, width: 68.75402335586875, height: 58.19684946385905, time: 0.25359350393700786, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt1951r9', name: 'jt1951r9', x: 318.00402335586875, y: 228.3689649661968, width: 75.75402335586875, height: 54.63103503380319, time: 0.31307242063492063, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt195v9l', name: 'jt195v9l', x: 318.00402335586875, y: 228.3689649661968, width: 75.75402335586875, height: 54.63103503380319, time: 0.34623937007874017, status: 'Hide',\n\t\t\t}],\n\t\t\tchildrenNames: [],\n\t\t\tparentName: 'jt1922xu',\n\t\t}, {\n\t\t\tid: 'jt192wyc',\n\t\t\tname: 'jt192wyc',\n\t\t\tlabel: '1-1',\n\t\t\tcolor: 'rgba(255,0,0,1)',\n\t\t\tincidents: [{\n\t\t\t\tid: 'jt192wyb', name: 'jt192wyb', x: 274.25, y: 171.73792993239366, width: 40.75402335586878, height: 41.63103503380317, time: 0.0308226495726496, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt19349x', name: 'jt19349x', x: 271.25, y: 167.73792993239366, width: 60.75402335586875, height: 58.63103503380316, time: 0.03178472222222222, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt193ekd', name: 'jt193ekd', x: 274.25, y: 160.73792993239366, width: 60.75402335586875, height: 58.63103503380316, time: 0.06388611111111112, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt193hp1', name: 'jt193hp1', x: 280.25, y: 160.73792993239366, width: 60.75402335586875, height: 58.63103503380316, time: 0.08677242063492063, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt194cbv', name: 'jt194cbv', x: 280.1326975821677, y: 158.62062751456136, width: 60.75402335586875, height: 58.63103503380316, time: 0.1195857142857143, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt193umg', name: 'jt193umg', x: 274.25, y: 154.73792993239366, width: 60.75402335586875, height: 58.63103503380316, time: 0.13459007936507936, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt193y7q', name: 'jt193y7q', x: 268.25, y: 155.73792993239366, width: 60.75402335586875, height: 58.63103503380316, time: 0.1693952380952381, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt194hxg', name: 'jt194hxg', x: 260.25, y: 157.73792993239366, width: 60.75402335586875, height: 58.63103503380316, time: 0.20233392857142857, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt194mj1', name: 'jt194mj1', x: 253.25, y: 156.73792993239366, width: 60.75402335586875, height: 58.63103503380316, time: 0.22967083333333332, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt195qgw', name: 'jt195qgw', x: 246.25, y: 156.73792993239366, width: 63.66047805713703, height: 58.63103503380316, time: 0.25359350393700786, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt194xqh', name: 'jt194xqh', x: 253.25, y: 156.73792993239366, width: 52.75402335586875, height: 58.63103503380316, time: 0.27642281746031744, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt1955u1', name: 'jt1955u1', x: 265.25, y: 159.73792993239366, width: 40.75402335586875, height: 49.63103503380316, time: 0.3564833333333333, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt195b3i', name: 'jt195b3i', x: 265.25, y: 141.73792993239366, width: 40.75402335586875, height: 49.63103503380316, time: 0.45984980158730154, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt1961v6', name: 'jt1961v6', x: 269.25, y: 144.73792993239366, width: 40.75402335586875, height: 49.63103503380316, time: 0.47851751968503936, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt1965az', name: 'jt1965az', x: 262.25, y: 144.73792993239366, width: 47.75402335586875, height: 49.63103503380316, time: 0.5342496062992126, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt1968nk', name: 'jt1968nk', x: 262.25, y: 149.73792993239366, width: 47.75402335586875, height: 49.63103503380316, time: 0.5904106299212598, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt196ax3', name: 'jt196ax3', x: 270.25, y: 158.73792993239366, width: 47.75402335586875, height: 49.63103503380316, time: 0.6662596456692913, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt196dys', name: 'jt196dys', x: 268.25, y: 164.73792993239366, width: 47.75402335586875, height: 49.63103503380316, time: 0.7368370078740157, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt196guu', name: 'jt196guu', x: 272.25, y: 154.73792993239366, width: 47.75402335586875, height: 49.63103503380316, time: 0.801053937007874, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt196k7h', name: 'jt196k7h', x: 273.25, y: 157.73792993239366, width: 47.75402335586875, height: 49.63103503380316, time: 0.8626350393700787, status: 'Show',\n\t\t\t}],\n\t\t\tchildrenNames: [],\n\t\t\tparentName: 'jt1922xu',\n\t\t}, {\n\t\t\tid: 'jt1922xu',\n\t\t\tname: 'jt1922xu',\n\t\t\tlabel: '1',\n\t\t\tcolor: 'rgba(255,219,0,1)',\n\t\t\tincidents: [{\n\t\t\t\tid: 'jt1922xu', name: 'jt1922xu', x: 274.25, y: 174, width: 80, height: 81, time: 0, status: 'Show',\n\t\t\t}, {\n\t\t\t\tid: 'jt192wyb', name: 'jt192wyb', x: 274.25, y: 171.73792993239366, width: 81.50804671173756, height: 83.26207006760634, time: 0.0308226495726496, status: 'Split',\n\t\t\t}],\n\t\t\tchildrenNames: ['jt192wyc', 'jt192wyd'],\n\t\t\tparentName: '',\n\t\t}];\n\t\tconst url = 'https://cildata.crbs.ucsd.edu/media/videos/50507/50507_web.mp4';\n\t\tconst videoWidth = 500;\n\t\tconst previewNoticeList = [\n\t\t\t'Cells\\' body range.',\n\t\t\t'The time that cells <u>split</u>, <u>leave</u>, <u>obscured</u> and <u>Show up</u> (if applicable).',\n\t\t];\n\t\tconst previewHeader = 'Please scan the video and observe the following to help you complete the task:';\n\t\tconst emptyCheckSubmissionWarningText = 'Please annotate AND track one unmarked cell to complete this task.';\n\t\tconst emptyCheckAnnotationItemWarningText = 'Step 2: Please track the cell bound by this box';\n\t\tconst emptyAnnotationReminderText = 'Step 1: Click the button above to add a new box around a cell';\n\n\t\tthis.fileInput = React.createRef();\n\t\tthis.state = {\n\t\t\tmyStream: null,\n\t\t\tresult: null,\n\t\t\tinterpolationResult: null,\n\t\t\tinput: {\n\t\t\t\tdefaultAnnotations: JSON.stringify(defaultAnnotations),\n\t\t\t\turl,\n\t\t\t\tvideoWidth,\n\t\t\t\tpreviewHeader,\n\t\t\t\tpreviewNoticeList,\n\t\t\t\temptyCheckSubmissionWarningText,\n\t\t\t\temptyCheckAnnotationItemWarningText,\n\t\t\t\temptyAnnotationReminderText,\n\t\t\t},\n\t\t\tparams: {\n\t\t\t\tdefaultAnnotations: [],\n\t\t\t\turl,\n\t\t\t\tvideoWidth,\n\t\t\t\tpreviewHeader,\n\t\t\t\tpreviewNoticeList,\n\t\t\t\temptyCheckSubmissionWarningText,\n\t\t\t\temptyCheckAnnotationItemWarningText,\n\t\t\t\temptyAnnotationReminderText,\n\t\t\t}\n\t\t}\n\t\t//end content from react tool\n\t\t//close constructor props\t\n\t}\n\n\thandleResultSubmit = result => {\n\t\tthis.setState({ result: result });\n\t\tconsole.log(JSON.stringify(this.state.result))\n\t}\n\n\thandleChange = event => {\n\t\tconst target = event.target;\n\t\tconst name = target.name;\n\t\tconst value = target.type === \"checkbox\" ? target.checked : target.value;\n\t\tthis.setState((preState) => {\n\t\t\tconst { input } = preState;\n\t\t\treturn {\n\t\t\t\tinput: { ...input, [name]: value }\n\t\t\t}\n\n\t\t})\n\t}\n\n\t// handleSubmit = event => {\n\t// \tevent.preventDefault();\n\t//   \tthis.setState((preState) => {\n\t// \t\t\tconst { input } = preState;\n\t// \t\t\tconst annotations = this.isJsonString(input.annotations) ? input.annotations : \"[]\";\n\t// \t  \t\treturn { params: {\n\t// \t\t\t\t\t\tannotations: JSON.parse(annotations),\n\t// \t\t\t\t\t\turl: input.url,\n\t// \t\t\t\t\t\tannotationWidth: parseInt(input.annotationWidth, 10)\n\t// \t\t\t\t\t}\n\t// \t\t\t};\n\t//   \t\t}\n\t// \t);\n\t// }\n\thandleSubmit = async event => {\n\t\tevent.preventDefault();\n\t\tlet result = {};\n\t\tif (this.fileInput.current.files[0]) {\n\t\t\tconst readFilePromise = new Promise((resolve, reject) => {\n\t\t\t\tconst fileReader = new FileReader();\n\t\t\t\tfileReader.onload = event => {\n\t\t\t\t\tif (!this.isJsonString(event.target.result))\n\t\t\t\t\t\treject('Wrong json format');\n\t\t\t\t\tlet result = JSON.parse(event.target.result);\n\t\t\t\t\tresolve(result)\n\t\t\t\t}\n\t\t\t\tfileReader.onerror = event => {\n\t\t\t\t\treject(event);\n\t\t\t\t}\n\t\t\t\tfileReader.readAsText(this.fileInput.current.files[0]);\n\t\t\t})\n\t\t\tresult = await readFilePromise;\n\t\t}\n\t\tlet { url = '', videoWidth = 0, defaultAnnotations = [] } = result;\n\t\tthis.setState((preState) => {\n\t\t\tconst { input } = preState;\n\t\t\tif (result.annotations.length === 0) {\n\t\t\t\tdefaultAnnotations = this.isJsonString(input.defaultAnnotations) ? JSON.parse(input.defaultAnnotations) : [];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdefaultAnnotations = result.annotations;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tparams: {\n\t\t\t\t\tdefaultAnnotations,\n\t\t\t\t\turl: url || input.url,\n\t\t\t\t\tvideoWidth: (videoWidth !== 0 ? videoWidth : parseInt(input.videoWidth, 10))\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t);\n\t\tconsole.log(this.state.result)\n\t}\n\n\tisJsonString = str => {\n\t\ttry {\n\t\t\tJSON.parse(str);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\t//function for getting interpolated data starts\n\tgetInterpolatedData = event => {\n\t\tevent.preventDefault();\n\t\tconsole.log(\"Interpolation fucntion\"+JSON.stringify(temp))\n\t\tconst duration = JSON.parse(JSON.stringify(this.state.result.duration))\n\t\tconsole.log(\"I am here\")\n\t\tconsole.log(duration)\n\t\tconst timerate = duration*60\n\t\t//collect frame/second for the video\n\t\tconst timeNow = (new Date()).getTime().toString(36);\n\t\tlet interpolatedResult = JSON.parse(JSON.stringify(this.state.result));\n\t\tlet temp = interpolatedResult\n\t\t\n\t\tfor(let annotation = 0; annotation < temp.annotations.length; annotation++){\n\t\t\tfor(let incident = 0; incident < temp.annotations[annotation].incidents.length; incident++){\n\t\t\t\ttemp.annotations[annotation].incidents[incident].parentName = temp.annotations[annotation].parentName\n\t\t\t}\n\t\t}\n\t\tfor(let annotation = 0; annotation < temp.annotations.length; annotation++){\n\n\t\t\tfor(let incident = 0; incident < temp.annotations[annotation].incidents.length; incident++){\n\t\t\t\ttemp.annotations[annotation].incidents[incident].label = temp.annotations[annotation].label\n\t\t\t}\n\t\t}\n\t\tfor (let i = 0; i < interpolatedResult.annotations.length; i++) {\n\t\t\t\n\t\t\tlet annotIncidentLength = interpolatedResult.annotations[i].incidents.length\n\t\t\tif (annotIncidentLength === 1) {\n\t\t\t\tconsole.log(\"This is not possible :P\")\n\t\t\t}\n\t\t\telse if (annotIncidentLength > 1) {\n\t\t\t\t\n\t\t\t\tfor (let j = 0; j < annotIncidentLength; j++) {\n\t\t\t\t\tif ((j != annotIncidentLength-1) && (interpolatedResult.annotations[i].incidents[j+1].status == \"Re-appear\" || interpolatedResult.annotations[i].incidents[j+1].status == \"\" || interpolatedResult.annotations[i].incidents[j+1].status == \"Split\")){\n\t\t\t\t\t\tconst source = interpolatedResult.annotations[i].incidents[j]\n\t\t\t\t\t\tconst target = interpolatedResult.annotations[i].incidents[j+1]\n\t\t\t\t\t\tconst tdiff = (target.time * timerate) - (source.time * timerate)\n\t\t\t\t\t\tconst xSlope = (target.x - source.x)/tdiff\n\t\t\t\t\t\tconst ySlope = (target.y - source.y)/tdiff\n\t\t\t\t\t\tconst wSlope = (target.width - source.width)/tdiff\n\t\t\t\t\t\tconst hSlope = (target.height - source.height)/tdiff\n\t\t\t\t\t\tconst sFrame = Math.round(source.time * timerate)\n\t\t\t\t\t\tconst tFrame = Math.round(target.time * timerate)\n\t\t\t\t\t\tfor (let k=sFrame+1; k<=tFrame; k++){\n\t\t\t\t\t\t\tlet off = k - Math.round(source.time * timerate)\n\t\t\t\t\t\t\tlet interpolX = (source.x + (xSlope * off)).toFixed(2)\n\t\t\t\t\t\t\tlet interpolY = (source.y + (ySlope * off)).toFixed(2)\n\t\t\t\t\t\t\tlet interpolW = (source.width + (wSlope * off)).toFixed(2)\n\t\t\t\t\t\t\tlet interpolH = (source.height + (hSlope * off)).toFixed(2)\n\t\t\t\t\t\t\ttemp.annotations[i].incidents.splice(j + 1, 0, ({\n\t\t\t\t\t\t\t\tid: `${timeNow}`, name: `${timeNow}`, x: interpolX, y: interpolY, height: interpolH, width: interpolW, time: k, status,  parentName: interpolatedResult.annotations[i].parentName, label: interpolatedResult.annotations[i].label\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t} //close if \n\t\t\t\t\t\n\t\t\t\t\tif ((j == annotIncidentLength-1) && (interpolatedResult.annotations[i].incidents[j].status == \"Re-appear\" || interpolatedResult.annotations[i].incidents[j].status == \"\" || interpolatedResult.annotations[i].incidents[j+1].status == \"Split\")){\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst source = interpolatedResult.annotations[i].incidents[j]\n\t\t\t\t\t\tconst target = interpolatedResult.annotations[i].incidents[j]\n\t\t\t\t\t\tconst tdiff = (duration * timerate) - (source.time * timerate)\n\t\t\t\t\t\tconst xSlope = (target.x - source.x)/tdiff\n\t\t\t\t\t\tconst ySlope = (target.y - source.y)/tdiff\n\t\t\t\t\t\tconst wSlope = (target.width - source.width)/tdiff\n\t\t\t\t\t\tconst hSlope = (target.height - source.height)/tdiff\n\t\t\t\t\t\tconst sFrame = Math.round(source.time * timerate)\n\t\t\t\t\t\tconst tFrame = Math.round(target.time * timerate)\n\t\t\t\t\t\tfor (let k=sFrame+1; k<=tFrame; k++){\n\t\t\t\t\t\t\tlet off = k - Math.round(source.time * timerate)\n\t\t\t\t\t\t\tlet interpolX = source.x + (xSlope * off)\n\t\t\t\t\t\t\tlet interpolY = source.y + (ySlope * off)\n\t\t\t\t\t\t\tlet interpolW = source.width + (wSlope * off)\n\t\t\t\t\t\t\tlet interpolH = source.height + (hSlope * off)\n\t\t\t\t\t\t\ttemp.annotations[i].incidents.splice(j + 1, 0, ({\n\t\t\t\t\t\t\t\tid: `${timeNow}`, name: `${timeNow}`, x: interpolX, y: interpolY, height: interpolH, width: interpolW, time: k, status, parentName: temp.annotations[i].parentName, label: interpolatedResult.annotations[i].label\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t} //close second if\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t} //close for loop for j\n\t\t\t\t\n\t\t\t\t\n\n\t\t\t} //close else-if annotlength>1\n\n\t\t} //close for loop for i\n\n\t\t//sort the temp object based on time/frame value\n\t\tlet interpol_data_arr = [], sno = 1\n\t\tconsole.log(\"Temp array: \"+JSON.stringify(temp))\n\t\tfor(let x=0; x<temp.annotations.length; x++){\n\t\t\tfor(let y=0; y<temp.annotations[x].incidents.length; y++){\n\t\t\t\tif(!(temp.annotations[x].incidents[y].time > 0 && temp.annotations[x].incidents[y].time < 1 ))\n\t\t\t\tinterpol_data_arr.push(temp.annotations[x].incidents[y])\n\t\t\t}\n\t\t}\n\n\t\tfor(let p=0; p<interpol_data_arr.length; p++){\n\t\t\tfor(let q=0, stop = interpol_data_arr.length - p - 1; q<stop; q++){\n\t\t\t\tif(interpol_data_arr[q].time == interpol_data_arr[q+1].time){\n\t\t\t\t\tvar swap = interpol_data_arr[q];\n\t\t\t\t\tinterpol_data_arr[q] = interpol_data_arr[q+1];\n\t\t\t\t\tinterpol_data_arr[q+1] = swap;\n\t\t\t\t}\n\t\t\t\tif(interpol_data_arr[q].time > interpol_data_arr[q+1].time){\n\t\t\t\t\tvar swap = interpol_data_arr[q];\n\t\t\t\t\tinterpol_data_arr[q] = interpol_data_arr[q+1];\n\t\t\t\t\tinterpol_data_arr[q+1] = swap;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\t//sorting ends\n\t\t\n\n\t\t//add Sno/ID to each row\n\t\tfor (let id=0; id<interpol_data_arr.length; id++){\n\t\t\tinterpol_data_arr[id].serial = interpol_data_arr[id].label\n\t\t\t//sno++\n\t\t}\n\n\t\tfor(let pa=0; pa<interpol_data_arr.length; pa++){\n\t\t\tfor(let qa=0, stopa = interpol_data_arr.length - pa - 1; qa<stopa; qa++){\n\t\t\t\t// if(interpol_data_arr[qa].time == interpol_data_arr[qa+1].time){\n\t\t\t\t// \tvar swapa = interpol_data_arr[qa];\n\t\t\t\t// \tinterpol_data_arr[qa] = interpol_data_arr[qa+1];\n\t\t\t\t// \tinterpol_data_arr[qa+1] = swapa;\n\t\t\t\t// }\n\t\t\t\tif(interpol_data_arr[qa].serial > interpol_data_arr[qa+1].serial){\n\t\t\t\t\tvar swapa = interpol_data_arr[qa];\n\t\t\t\t\tinterpol_data_arr[qa] = interpol_data_arr[qa+1];\n\t\t\t\t\tinterpol_data_arr[qa+1] = swapa;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\t// for(let labelno=0; labelno<interpol_data_arr.length; labelno++){\n\t\t// \tvar n = interpol_data_arr[labelno].label.search(\"-\");\n\t\t// \tif(n<0){\n\t\t// \t\tinterpol_data_arr[labelno].serial = interpol_data_arr[labelno].label\n\t\t// \t}\n\t\t// \telse {\n\t\t// \t\tinterpol_data_arr[labelno].serial = interpol_data_arr[labelno].label[n+1]\n\t\t// \t}\n\t\t// }\n\t\t//Sno/ID added\n\n\t\tthis.setState({ interpolationResult: interpol_data_arr });\n\t\tdocument.getElementById(\"export-interpol\").style.display = \"block\";\n\t}\n\t//function for getting interpolated data ends\n\n\tcreateTable = e => {\n\t\tlet temp = JSON.parse(JSON.stringify(this.state.interpolationResult));\n\t\tconsole.log(\"Table temp= \\n\" + JSON.stringify(this.state.interpolationResult));\n\t\tvar table = document.getElementById(\"interpol-table\");\n\t\tfor (var i = 0; i < temp.length; i++) {\n\t\t\tvar row = document.createElement('tr');\n\t\t\tvar cell_sno = document.createElement('td')\n\t\t\tcell_sno.innerHTML = temp[i].serial\n\t\t\trow.appendChild(cell_sno)\n\t\t\tvar cell_x_min = document.createElement('td');\n\t\t\tvar cell_y_min = document.createElement('td');\n\t\t\tvar cell_width = document.createElement('td');\n\t\t\tvar cell_height = document.createElement('td');\n\t\t\tvar cell_frame = document.createElement('td');\n\t\t\tvar cell_lost = document.createElement('td');\n\t\t\tvar cell_occluded = document.createElement('td');\n\t\t\tvar cell_generated = document.createElement('td');\n\t\t\tvar cell_label = document.createElement('td');\n\t\t\tvar cell_parent = document.createElement('td');\n\t\t\tcell_x_min.innerHTML = temp[i].x;\n\t\t\tcell_y_min.innerHTML = temp[i].y;\n\t\t\tcell_width.innerHTML = temp[i].width;\n\t\t\tcell_height.innerHTML = temp[i].height;\n\t\t\tcell_frame.innerHTML = temp[i].time;\n\t\t\tcell_lost.innerHTML = 0;\n\t\t\tcell_occluded.innerHTML = 0;\n\t\t\tcell_generated.innerHTML = 0;\n\t\t\tcell_label.innerHTML = temp[i].label;\n\t\t\tcell_parent.innerHTML = temp[i].parentName;\n\t\t\t//row.appendChild(cell_id);\n\t\t\trow.appendChild(cell_x_min);\n\t\t\trow.appendChild(cell_y_min);\n\t\t\trow.appendChild(cell_width);\n\t\t\trow.appendChild(cell_height);\n\t\t\trow.appendChild(cell_frame);\n\t\t\trow.appendChild(cell_lost);\n\t\t\trow.appendChild(cell_occluded);\n\t\t\trow.appendChild(cell_generated);\n\t\t\trow.appendChild(cell_label);\n\t\t\trow.appendChild(cell_parent);\n\t\t\ttable.appendChild(row);\n\t\t}\n\t\tthis.downloadInterpolTable();\n\t}\n\n\texport_table_to_csv = (html, filename) => {\n\t\tvar csv = [];\n\t\tvar rows = document.querySelectorAll(\"table tr\");\n\t\tfor (var i = 0; i < rows.length; i++) {\n\t\t\tvar row = [], cols = rows[i].querySelectorAll(\"td, th\");\n\t\t\tfor (var j = 0; j < cols.length; j++)\n\t\t\t\trow.push(cols[j].innerText);\n\t\t\tcsv.push(row.join(\",\"));\n\t\t}\n\t\t// Download CSV\n\t\tthis.download_csv(csv.join(\"\\n\"), filename);\n\t}\n\n\tdownload_csv = (csv, filename) => {\n\t\tvar csvFile;\n\t\tvar downloadLink;\n\t\t// CSV FILE\n\t\tcsvFile = new Blob([csv], { type: \"text/csv\" });\n\t\t// Download link\n\t\tdownloadLink = document.createElement(\"a\");\n\t\t// File name\n\t\tdownloadLink.download = filename;\n\t\t// We have to create a link to the file\n\t\tdownloadLink.href = window.URL.createObjectURL(csvFile);\n\t\t// Make sure that the link is not displayed\n\t\tdownloadLink.style.display = \"none\";\n\t\t// Add the link to your DOM\n\t\tdocument.body.appendChild(downloadLink);\n\t\t// Lanzamos\n\t\tdownloadLink.click();\n\t}\n\n\tdownloadInterpolTable = () => {\n\t\tvar html = document.querySelector(\"table\").outerHTML;\n\t\tthis.export_table_to_csv(html, \"table.csv\");\n\t}\n\n\trender() {\n\n\t\tconst { result, input, params } = this.state\n\t\tlet dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(result));\n\t\treturn (\n\t\t\t<Container fluid className=\"py-3\">\n\t\t\t\t<a href={\"/login\"}>Login</a><br />\n\t\t\t\t<h1 className=\"display-4  text-center\">CrowdMOT: A Video Annotation Tool</h1>\n\t\t\t\t<Row className=\"my-3 col-xs-12 col-lg-10 offset-lg-1\">\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Instructions />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Form className=\"mb-2 col-xs-12 col-lg-10 offset-lg-1\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label for=\"URL\"><b>Enter the video URL:</b></Label>\n\t\t\t\t\t\t<Input type=\"text\" name=\"url\" placeholder=\"http://...\" value={input.url} onChange={this.handleChange} />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label for=\"Annotation Width\">Video Width</Label>\n\t\t\t\t\t\t<Input type=\"text\" name=\"videoWidth\" placeholder=\"number\" value={input.videoWidth} onChange={this.handleChange} />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label for=\"exampleFile\" className=\"pr-2\">Upload Default Annotations</Label><br></br>\n\t\t\t\t\t\t<input type=\"file\" name=\"file\" id=\"exampleFile\" ref={this.fileInput} />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<Row className=\"my-3 col-xs-12 col-lg-10 offset-lg-6\">\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Button>Submit</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\n\t\t\t\t<Row className=\"py-3\" style={{ background: \"rgb(246, 246, 246)\" }}>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<VideoTool\n\t\t\t\t\t\t\tkey={\n\t\t\t\t\t\t\t\t`${JSON.stringify(params.url)}\n\t\t\t\t\t\t\t\t ${JSON.stringify(params.defaultAnnotations)}\n\t\t\t\t\t\t\t\t ${JSON.stringify(params.videoWidth)}\n\t\t\t\t\t\t\t\t ${JSON.stringify(params.previewHeader)}\n\t\t\t\t\t\t\t\t ${JSON.stringify(params.previewNoticeList)}`\n\t\t\t\t\t\t\t\t//the last three to be replaced by the two below and change defaultAnnotations to annotations\n\t\t\t\t\t\t\t\t//  ${JSON.stringify(params.annotationWidth)}\n\t\t\t\t\t\t\t\t//  ${JSON.stringify(params.previewNotices)}`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonSubmit={this.handleResultSubmit}\n\t\t\t\t\t\t\turl={params.url}\n\t\t\t\t\t\t\t//made changes here annotations (on both sides) changed to defaultAnnotation\n\t\t\t\t\t\t\tdefaultAnnotations={params.defaultAnnotations}\n\t\t\t\t\t\t\tvideoWidth={params.videoWidth}\n\t\t\t\t\t\t\tpreviewHeader={params.previewHeader}\n\t\t\t\t\t\t\tpreviewNoticeList={params.previewNoticeList}\n\t\t\t\t\t\t\thasReview\n\t\t\t\t\t\t\tisEmptyCheckEnable\n\t\t\t\t\t\t\tisSplitEnable\n\t\t\t\t\t\t\tisShowHideEnable\n\t\t\t\t\t\t\tnumAnnotationsToBeAdded={20}\n\t\t\t\t\t\t\temptyCheckSubmissionWarningText={params.emptyCheckSubmissionWarningText}\n\t\t\t\t\t\t\temptyCheckAnnotationItemWarningText={params.emptyCheckAnnotationItemWarningText}\n\t\t\t\t\t\t\temptyAnnotationReminderText={params.emptyAnnotationReminderText}\n\t\t\t\t\t\t//replace everything after defaultannotations with the what is down below\n\t\t\t\t\t\t// annotationWidth={params.annotationWidth}\n\t\t\t\t\t\t// numberOfParentAnnotationsToBeAdded={100000}\n\t\t\t\t\t\t// previewNotices={params.previewNotices}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<Row className=\"my-3 col-xs-12\">\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Button color=\"primary\"><CSVLink data={JSON.stringify(result, null, 2)} style={{ color: 'white' }}>Download Raw Data</CSVLink></Button>\n\t\t\t\t\t\t{console.log(JSON.stringify(result, null, 2))}\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Button color=\"primary\" onClick={this.getInterpolatedData}>Generate Interpolated Data</Button>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Button id=\"export-interpol\" color='primary' style={{\n\t\t\t\t\t\t\tdisplay: 'none', color: '#ffffff',\n\t\t\t\t\t\t\tborder: `1px solid`,\n\t\t\t\t\t\t}} onClick={this.createTable}>Download Interpolated Data</Button>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t{/* create invisible table for interpolated data */}\n\t\t\t\t<Row className=\"my-3 col-xs-12\">\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<table id=\"interpol-table\" style={{ display: 'none' }}>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t{/* <th>ID</th> */}\n\t\t\t\t\t\t\t\t<th >Track ID</th>\n\t\t\t\t\t\t\t\t<th>x-min</th>\n\t\t\t\t\t\t\t\t<th>y-min</th>\n\t\t\t\t\t\t\t\t<th>width</th>\n\t\t\t\t\t\t\t\t<th>height</th>\n\t\t\t\t\t\t\t\t<th>Frame</th>\n\t\t\t\t\t\t\t\t<th>Lost</th>\n\t\t\t\t\t\t\t\t<th>Occluded</th>\n\t\t\t\t\t\t\t\t<th>Generated</th>\n\t\t\t\t\t\t\t\t<th>Label</th>\n\t\t\t\t\t\t\t\t<th>Parent</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\n\t\t\t\t<Row className=\"my-3 col-xs-12 col-lg-10 offset-lg-1\">\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Card><CardBody><a href={dataStr} className=\"btn btn-secondary btn-lg\" download={`${params.url}.json`}> Download the Annotations</a></CardBody></Card>\n\n\n\t\t\t\t\t</Col>  </Row>\n\n\n\n\t\t\t</Container>\n\n\t\t);\n\n\n\n\t}\n}\nexport default Demo;\n"]},"metadata":{},"sourceType":"module"}