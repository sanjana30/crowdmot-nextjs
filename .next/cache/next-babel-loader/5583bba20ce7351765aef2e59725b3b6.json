{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Applications/CrowdMOT/crowdmot-nextjs/components/two-dimensional-video/components/AnnotationList/AnnotationList.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useReducer, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { ListGroup } from 'reactstrap';\nimport { Events, scrollSpy, scroller } from 'react-scroll';\nimport { initialIsDialogDisabledState, isDialogDisabledReducer } from './isDialogDisabledReducer';\nimport AnnotationItem from './AnnotationItem/AnnotationItem.jsx';\nimport TwoDimensionalVideoContext from '../TwoDimensionalVideo/twoDimensionalVideoContext';\nimport { getSortedAnnotationsByLabel } from '../../utils/utils';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './annotationList.scss';\n\nvar AnnotationList = function AnnotationList(_ref) {\n  _s();\n\n  var className = _ref.className;\n\n  var _useReducer = useReducer(isDialogDisabledReducer, initialIsDialogDisabledState),\n      isDialogDisabled = _useReducer[0],\n      dispatchIsDialogDisabled = _useReducer[1];\n\n  var twoDimensionalVideoContext = useContext(TwoDimensionalVideoContext);\n  var entities = twoDimensionalVideoContext.entities,\n      focusing = twoDimensionalVideoContext.focusing,\n      annotations = twoDimensionalVideoContext.annotations,\n      height = twoDimensionalVideoContext.height,\n      emptyAnnotationReminderText = twoDimensionalVideoContext.emptyAnnotationReminderText;\n  useEffect(function () {\n    Events.scrollEvent.register('begin', function () {});\n    Events.scrollEvent.register('end', function () {});\n    scrollSpy.update();\n    return function () {\n      Events.scrollEvent.remove('begin');\n      Events.scrollEvent.remove('end');\n    };\n  }, []);\n  useEffect(function () {\n    if (focusing) {\n      scroller.scrollTo(focusing, {\n        containerId: 'annotation-list'\n      });\n    }\n  }, [focusing]);\n  var sortedAnnotations = getSortedAnnotationsByLabel(annotations, entities);\n  var itemsUI = sortedAnnotations.filter(function (ann) {\n    return entities && entities.annotations[ann] && entities.annotations[ann].isManipulatable;\n  }).map(function (ann) {\n    return __jsx(AnnotationItem, {\n      key: ann,\n      itemData: entities.annotations[ann],\n      isDialogDisabled: isDialogDisabled,\n      dispatchIsDialogDisabled: dispatchIsDialogDisabled,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 4\n      }\n    });\n  });\n\n  if (itemsUI.length === 0) {\n    return __jsx(\"div\", {\n      className: \"d-flex align-items-center justify-content-center\",\n      style: {\n        height: height - 60\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 4\n      }\n    }, emptyAnnotationReminderText);\n  }\n\n  var rootClassName = \"annotation-list\".concat(className ? \" \".concat(className) : '');\n  return __jsx(ListGroup, {\n    className: rootClassName,\n    id: \"annotation-list\",\n    style: {\n      maxHeight: height - 60\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 3\n    }\n  }, itemsUI);\n};\n\n_s(AnnotationList, \"Pw8dogFapD25SICElriW+q93tgA=\");\n\n_c = AnnotationList;\nAnnotationList.propTypes = {\n  className: PropTypes.string\n};\nAnnotationList.defaultProps = {\n  className: ''\n};\nexport default AnnotationList;\n\nvar _c;\n\n$RefreshReg$(_c, \"AnnotationList\");","map":{"version":3,"sources":["/Applications/CrowdMOT/crowdmot-nextjs/components/two-dimensional-video/components/AnnotationList/AnnotationList.jsx"],"names":["React","useEffect","useReducer","useContext","PropTypes","ListGroup","Events","scrollSpy","scroller","initialIsDialogDisabledState","isDialogDisabledReducer","AnnotationItem","TwoDimensionalVideoContext","getSortedAnnotationsByLabel","AnnotationList","className","isDialogDisabled","dispatchIsDialogDisabled","twoDimensionalVideoContext","entities","focusing","annotations","height","emptyAnnotationReminderText","scrollEvent","register","update","remove","scrollTo","containerId","sortedAnnotations","itemsUI","filter","ann","isManipulatable","map","length","rootClassName","maxHeight","propTypes","string","defaultProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { ListGroup } from 'reactstrap';\nimport { Events, scrollSpy, scroller } from 'react-scroll';\nimport {\n\tinitialIsDialogDisabledState,\n\tisDialogDisabledReducer,\n} from './isDialogDisabledReducer';\nimport AnnotationItem from './AnnotationItem/AnnotationItem.jsx';\nimport TwoDimensionalVideoContext from '../TwoDimensionalVideo/twoDimensionalVideoContext';\nimport { getSortedAnnotationsByLabel } from '../../utils/utils';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './annotationList.scss';\n\nconst AnnotationList = ({ className }) => {\n\tconst [isDialogDisabled, dispatchIsDialogDisabled] = useReducer(isDialogDisabledReducer, initialIsDialogDisabledState);\n\tconst twoDimensionalVideoContext = useContext(TwoDimensionalVideoContext);\n\tconst {\n\t\tentities,\n\t\tfocusing,\n\t\tannotations,\n\t\theight,\n\t\temptyAnnotationReminderText,\n\t} = twoDimensionalVideoContext;\n\n\tuseEffect(() => {\n\t\tEvents.scrollEvent.register('begin', () => {});\n\t\tEvents.scrollEvent.register('end', () => {});\n\t\tscrollSpy.update();\n\t\treturn () => {\n\t\t\tEvents.scrollEvent.remove('begin');\n\t\t\tEvents.scrollEvent.remove('end');\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (focusing) {\n\t\t\tscroller.scrollTo(focusing, { containerId: 'annotation-list' });\n\t\t}\n\t}, [focusing]);\n\n\tconst sortedAnnotations = getSortedAnnotationsByLabel(annotations, entities);\n\tconst itemsUI = sortedAnnotations\n\t\t.filter(ann => entities && entities.annotations[ann] && entities.annotations[ann].isManipulatable)\n\t\t.map(ann => (\n\t\t\t<AnnotationItem\n\t\t\t\tkey={ ann }\n\t\t\t\titemData={ entities.annotations[ann] }\n\t\t\t\tisDialogDisabled={ isDialogDisabled }\n\t\t\t\tdispatchIsDialogDisabled={ dispatchIsDialogDisabled }\n\t\t\t/>\n\t\t));\n\tif (itemsUI.length === 0) {\n\t\treturn (\n\t\t\t<div className='d-flex align-items-center justify-content-center' style={ { height: height - 60 } }>\n\t\t\t\t{emptyAnnotationReminderText}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst rootClassName = `annotation-list${className ? ` ${className}` : ''}`;\n\treturn (\n\t\t<ListGroup className={ rootClassName } id='annotation-list' style={ { maxHeight: height - 60 } }>{itemsUI}</ListGroup>\n\t);\n};\n\nAnnotationList.propTypes = {\n\tclassName: PropTypes.string,\n};\nAnnotationList.defaultProps = {\n\tclassName: '',\n};\nexport default AnnotationList;\n"]},"metadata":{},"sourceType":"module"}