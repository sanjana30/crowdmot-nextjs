{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{O2ls:function(e,t,n){\"use strict\";n.r(t);var r=n(\"wx14\"),i=n(\"o0o1\"),a=n.n(i),o=n(\"rePB\"),s=n(\"HaE+\"),l=n(\"MX0m\"),c=n.n(l),m=n(\"q1tI\"),p=n.n(m),u=n(\"KYPV\"),d=n(\"vcXL\"),b=n.n(d),f=n(\"UGp+\"),x=n(\"nOHt\"),w=n.n(x),g=n(\"p46w\"),y=n.n(g),j=n(\"T7VE\"),k=n(\"RnRW\"),h=n(\"hBCp\"),O=n(\"CIUX\"),v=p.a.createElement;function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){return f.a().shape({name:e&&f.b().min(2,\"too short\").required(\"required\"),email:f.b().email(\"not valid\").required(\"required\"),password:f.b().min(6,\"too short\").required(\"required\")})};t.default=function(e){var t=Object(m.useState)(!1),n=t[0],i=t[1],o=function(){var e=Object(s.a)(a.a.mark((function e(t,r){var i,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,b()(\"/api/authenticate\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(S(S({},t),{},{isSignUp:n}))});case 3:if(i=e.sent,r.setSubmitting(!1),!i.ok){e.next=13;break}return e.next=8,i.text();case 8:o=e.sent,y.a.set(\"_wsp\",o,{secure:!0,sameSite:\"lax\"}),w.a.push(\"/\"),e.next=17;break;case 13:return e.next=15,i.text();case 15:s=e.sent,r.setErrors({general:s||\"There was a problem authenticating you with that email and password combination.\"});case 17:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return v(p.a.Fragment,null,v(\"div\",{className:\"jsx-4037609192 page\"},v(u.b,{initialValues:{name:\"\",email:\"\",password:\"\"},validationSchema:N(n),onSubmit:o},(function(e){var t=e.errors,i=e.touched,a=(e.values,e.isSubmitting),o=e.isValid,s=e.getFieldProps;return v(u.a,null,v(\"div\",{className:\"jsx-4037609192 form\"},n&&v(k.a,null,v(h.a,{htmlFor:\"name\",error:i.name&&t.name},\"\\ud83d\\udc69\\u200d\\ud83d\\udcbb Name\"),v(j.a,Object(r.a)({name:\"name\",id:\"name\",type:\"text\"},s(\"name\")))),v(k.a,null,v(h.a,{htmlFor:\"email\",error:i.email&&t.email},\"\\u2709\\ufe0f Email\"),v(j.a,Object(r.a)({type:\"email\",id:\"email\",name:\"email\"},s(\"email\")))),v(k.a,null,v(h.a,{htmlFor:\"password\",error:i.password&&t.password},\"\\ud83d\\udd11 Password\"),v(j.a,Object(r.a)({id:\"password\",type:\"password\",name:\"password\"},s(\"password\")))),v(O.a,{disabled:a||!o,loading:a},n?\"Sign up\":\"Log in\"),v(\"p\",{className:\"jsx-4037609192 error\"},null===t||void 0===t?void 0:t.general),\" \"))})),v(\"p\",{className:\"jsx-4037609192 log-in-prompt\"},n?\"Have\":\"Need\",\" an account?\",v(\"span\",{className:\"jsx-4037609192 small\"},\"Click below, fill out the form, et vola!\")),v(O.a,{onClick:function(){return i(!n)}},n?\"Log in\":\"Sign up\")),v(c.a,{id:\"4037609192\"},[\".error.jsx-4037609192{text-align:center;color:var(--error);}\",\".page.jsx-4037609192{width:100%;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\",\".log-in-prompt.jsx-4037609192{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:0.25rem;}\",\".log-in-prompt.jsx-4037609192>.small.jsx-4037609192{font-size:0.75rem;opacity:0.6;}\",\".form.jsx-4037609192{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:300px;}\",\".form.jsx-4037609192>.field,.form.jsx-4037609192>.btn{margin-bottom:0.5rem;}\"]))}},klc5:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/login\",function(){return n(\"O2ls\")}])}},[[\"klc5\",1,0,2,4,6,10]]]);","extractedComments":[]}